<!DOCTYPE HTML>
<html lang="en-US" manifest="../manifest.appcache">
    
    <head>
        
        <meta charset="UTF-8">
        <title>Custom data | GenomeRunner</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 0.6.0">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    <meta name="author" content="mdozmorov">
    
    
    <link rel="next" href="../dbcreator/dbcreatorFAQ.html" />
    
    
    <link rel="prev" href="../dbcreator/dbcreatorBackground.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="../gitbook/style.css">


        
    <div class="book" data-github="mdozmorov/grdocs" data-level="6.1.7" data-basepath=".." data-revision="1405224398167">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    
    <a href="https://github.com/mdozmorov/grdocs" target="_blank" class="btn pull-left home-bookmark" aria-label="GitHub home"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="btn-group btn-block">
        <button id="reduce-font-size" class="btn btn-default">A</button>
        <button id="enlarge-font-size" class="btn btn-default">A</button>
    </div>

    <ul class="list-group font-family-list">
        <li class="list-group-item" data-font="0">Serif</li>
        <li class="list-group-item" data-font="1">Sans</li>
    </ul>

    <div class="btn-group btn-group-xs btn-block color-theme-list">
        <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
    </div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/mdozmorov/grdocs/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/mdozmorov/grdocs/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="../" >GenomeRunner</a>
    </h1>
</div>

    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        <li>
            <a href="https://github.com/mdozmorov" target="blank" class="author-link">About the author</a>
        </li>
        

        
        
        <li>
            <a href="https://github.com/mdozmorov/grdocs/issues" target="blank"class="issues-link">Questions and Issues</a>
        </li>
        

        
        
        <li>
            <a href="https://github.com/mdozmorov/grdocs/edit/master/dbcreator/dbcreatorCustom.md" target="blank" class="contribute-link">Edit and Contribute</a>
        </li>
        

	

        
        <li class="divider"></li>
        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="misc/Faq.html">
            
                
                    <a href="../misc/Faq.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         FAQ
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="misc/definitions.html">
            
                
                    <a href="../misc/definitions.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         Definitions
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="misc/newsAndUpdates.html">
            
                
                    <a href="../misc/newsAndUpdates.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         News and Updates
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4" data-path="installation/installation.html">
            
                
                    <a href="../installation/installation.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                         Installation
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5" data-path="installation/uninstallation.html">
            
                
                    <a href="../installation/uninstallation.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                         Uninstalling
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6" data-path="installation/modules.html">
            
                
                    <a href="../installation/modules.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                         Modules
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="6.1" data-path="dbcreator/dbcreator.html">
            
                
                    <a href="../dbcreator/dbcreator.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                         Dbcreator module
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="6.1.1" data-path="dbcreator/dbcreator_ucsc.html">
            
                
                    <a href="../dbcreator/dbcreator_ucsc.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.1.</b>
                        
                         dbcreator_ucsc
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.1.2" data-path="dbcreator/dbcreator_encodeDCC.html">
            
                
                    <a href="../dbcreator/dbcreator_encodeDCC.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.2.</b>
                        
                         dbcreator_encodeDCC
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.1.3" data-path="dbcreator/dbcreatorWorks.html">
            
                
                    <a href="../dbcreator/dbcreatorWorks.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.3.</b>
                        
                         How dbcreator works
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.1.4" data-path="dbcreator/dbcreatorFiltering.html">
            
                
                    <a href="../dbcreator/dbcreatorFiltering.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.4.</b>
                        
                         Filtering
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.1.5" data-path="dbcreator/dbcreatorStructure.html">
            
                
                    <a href="../dbcreator/dbcreatorStructure.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.5.</b>
                        
                         Database structure
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.1.6" data-path="dbcreator/dbcreatorBackground.html">
            
                
                    <a href="../dbcreator/dbcreatorBackground.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.6.</b>
                        
                         Background
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter active" data-level="6.1.7" data-path="dbcreator/dbcreatorCustom.html">
            
                
                    <a href="../dbcreator/dbcreatorCustom.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.7.</b>
                        
                         Custom data
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.1.8" data-path="dbcreator/dbcreatorFAQ.html">
            
                
                    <a href="../dbcreator/dbcreatorFAQ.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.8.</b>
                        
                         Dbcreator FAQ
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="6.2" data-path="optimizer/optimizer.html">
            
                
                    <a href="../optimizer/optimizer.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                         Optimizer module
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="6.2.1" data-path="optimizer/optimizerParallel.html">
            
                
                    <a href="../optimizer/optimizerParallel.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.1.</b>
                        
                         Parallelization
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.2.2" data-path="optimizer/optimizerFAQ.html">
            
                
                    <a href="../optimizer/optimizerFAQ.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.2.</b>
                        
                         Optimizer FAQ
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="6.3" data-path="server/server.html">
            
                
                    <a href="../server/server.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                         Server module
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="6.3.1" data-path="server/serverFAQ.html">
            
                
                    <a href="../server/serverFAQ.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.1.</b>
                        
                         Server FAQ
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="6.4" data-path="hypergeom4/hypergeom4.html">
            
                
                    <a href="../hypergeom4/hypergeom4.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.</b>
                        
                         Command line module
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="6.4.1" data-path="hypergeom4/hypergeom4Faq.html">
            
                
                    <a href="../hypergeom4/hypergeom4Faq.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.1.</b>
                        
                         Command line FAQ
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="7" data-path="hypergeom4/results.html">
            
                
                    <a href="../hypergeom4/results.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                         Results
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="7.1" data-path="hypergeom4/enrichment.html">
            
                
                    <a href="../hypergeom4/enrichment.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                         Enrichment results
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.2" data-path="hypergeom4/episimilarity.html">
            
                
                    <a href="../hypergeom4/episimilarity.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                         Epigenomic similarity results
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.3" data-path="hypergeom4/annotation.html">
            
                
                    <a href="../hypergeom4/annotation.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                         Annotation results
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.4" data-path="hypergeom4/logs.html">
            
                
                    <a href="../hypergeom4/logs.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.4.</b>
                        
                         Logs and debug info
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.5" data-path="hypergeom4/resultsFaq.html">
            
                
                    <a href="../hypergeom4/resultsFaq.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.5.</b>
                        
                         Results FAQ
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="8" data-path="references.html">
            
                
                    <a href="../references.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                         References
                    </a>
                
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 48.275862068965516%;min-width: 44.827586206896555%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../misc/Faq.html" title="FAQ" class="chapter done new-chapter" data-progress="1" style="left: 3.4482758620689653%;"></a>
    
        <a href="../misc/definitions.html" title="Definitions" class="chapter done new-chapter" data-progress="2" style="left: 6.896551724137931%;"></a>
    
        <a href="../misc/newsAndUpdates.html" title="News and Updates" class="chapter done new-chapter" data-progress="3" style="left: 10.344827586206897%;"></a>
    
        <a href="../installation/installation.html" title="Installation" class="chapter done new-chapter" data-progress="4" style="left: 13.793103448275861%;"></a>
    
        <a href="../installation/uninstallation.html" title="Uninstalling" class="chapter done new-chapter" data-progress="5" style="left: 17.24137931034483%;"></a>
    
        <a href="../installation/modules.html" title="Modules" class="chapter done new-chapter" data-progress="6" style="left: 20.689655172413794%;"></a>
    
        <a href="../dbcreator/dbcreator.html" title="Dbcreator module" class="chapter done " data-progress="6.1" style="left: 24.137931034482758%;"></a>
    
        <a href="../dbcreator/dbcreator_ucsc.html" title="dbcreator_ucsc" class="chapter done " data-progress="6.1.1" style="left: 27.586206896551722%;"></a>
    
        <a href="../dbcreator/dbcreator_encodeDCC.html" title="dbcreator_encodeDCC" class="chapter done " data-progress="6.1.2" style="left: 31.03448275862069%;"></a>
    
        <a href="../dbcreator/dbcreatorWorks.html" title="How dbcreator works" class="chapter done " data-progress="6.1.3" style="left: 34.48275862068966%;"></a>
    
        <a href="../dbcreator/dbcreatorFiltering.html" title="Filtering" class="chapter done " data-progress="6.1.4" style="left: 37.93103448275862%;"></a>
    
        <a href="../dbcreator/dbcreatorStructure.html" title="Database structure" class="chapter done " data-progress="6.1.5" style="left: 41.37931034482759%;"></a>
    
        <a href="../dbcreator/dbcreatorBackground.html" title="Background" class="chapter done " data-progress="6.1.6" style="left: 44.827586206896555%;"></a>
    
        <a href="../dbcreator/dbcreatorCustom.html" title="Custom data" class="chapter done " data-progress="6.1.7" style="left: 48.275862068965516%;"></a>
    
        <a href="../dbcreator/dbcreatorFAQ.html" title="Dbcreator FAQ" class="chapter  " data-progress="6.1.8" style="left: 51.724137931034484%;"></a>
    
        <a href="../optimizer/optimizer.html" title="Optimizer module" class="chapter  " data-progress="6.2" style="left: 55.172413793103445%;"></a>
    
        <a href="../optimizer/optimizerParallel.html" title="Parallelization" class="chapter  " data-progress="6.2.1" style="left: 58.62068965517241%;"></a>
    
        <a href="../optimizer/optimizerFAQ.html" title="Optimizer FAQ" class="chapter  " data-progress="6.2.2" style="left: 62.06896551724138%;"></a>
    
        <a href="../server/server.html" title="Server module" class="chapter  " data-progress="6.3" style="left: 65.51724137931035%;"></a>
    
        <a href="../server/serverFAQ.html" title="Server FAQ" class="chapter  " data-progress="6.3.1" style="left: 68.96551724137932%;"></a>
    
        <a href="../hypergeom4/hypergeom4.html" title="Command line module" class="chapter  " data-progress="6.4" style="left: 72.41379310344827%;"></a>
    
        <a href="../hypergeom4/hypergeom4Faq.html" title="Command line FAQ" class="chapter  " data-progress="6.4.1" style="left: 75.86206896551724%;"></a>
    
        <a href="../hypergeom4/results.html" title="Results" class="chapter  new-chapter" data-progress="7" style="left: 79.3103448275862%;"></a>
    
        <a href="../hypergeom4/enrichment.html" title="Enrichment results" class="chapter  " data-progress="7.1" style="left: 82.75862068965517%;"></a>
    
        <a href="../hypergeom4/episimilarity.html" title="Epigenomic similarity results" class="chapter  " data-progress="7.2" style="left: 86.20689655172414%;"></a>
    
        <a href="../hypergeom4/annotation.html" title="Annotation results" class="chapter  " data-progress="7.3" style="left: 89.65517241379311%;"></a>
    
        <a href="../hypergeom4/logs.html" title="Logs and debug info" class="chapter  " data-progress="7.4" style="left: 93.10344827586206%;"></a>
    
        <a href="../hypergeom4/resultsFaq.html" title="Results FAQ" class="chapter  " data-progress="7.5" style="left: 96.55172413793103%;"></a>
    
        <a href="../references.html" title="References" class="chapter  new-chapter" data-progress="8" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_3">
                    
                        <h1 id="custom-data">Custom data</h1>
<h2 id="custom-features-of-interest-fois">Custom features of interest (FOIs)</h2>
<p>Sometimes we want to have sets of features of interest readily accessible for analysis. We may place such sets in the named subfolders under the <code>[dir]/custom_data/fois/[organism]/</code> folder. The names of the subfolders will serve as descriptions of the sets of FOIs, e.g., *Immune_GWAS&quot;.</p>
<p>An example of the <code>fois</code> folder may look like:</p>
<pre><code>/home/testuser/Documents/db_1.01_05.12.2014/custom_data/fois/hg19/GWAStest1/*.bed
/home/testuser/Documents/db_1.01_05.12.2014/custom_data/fois/hg19/GWASrand/*.bed
/home/testuser/Documents/db_1.01_05.12.2014/custom_data/fois/hg19/SNPsCommonRand/*.bed
/home/testuser/Documents/db_1.01_05.12.2014/custom_data/fois/hg19/GWAScatalogFull/*.bed
</code></pre><h2 id="custom-genomic-features-gfs">Custom genomic features (GFs)</h2>
<p>Some genome annotation tracks contain information about different biologically relevant features combined together. An example of such combined table is <code>wgEncodeRegTfbsClusteredV3</code> track, containing experimentally detected transcription factor binding sites for 161 different transcription factors. We may want to consider the data for each transcription factor separately. We process such combined data using the <code>extract_UCSC.py</code> script (see the <code>db</code> subfolder in the <a href="https://github.com/mdozmorov/genome_runner" target="_blank">source code</a>). We place extracted BED files in the <code>[dir]/custom_data/gfs/hg19/tfbsEncode</code> folder. The <code>tfbsEncode</code> GFs will be accessible through GenomeRunner&#39;s web interface.</p>
<p>It is a good idea to remove special characters from file names, if any, by running:</p>
<pre><code>for FILE in *.bed; do mv -v &quot;$FILE&quot; $(echo &quot;$FILE&quot; | tr &#39; &#39; &#39;_&#39; | tr -d &#39;[{}(),!]&#39; | tr -d &quot;&#39;&quot; | tr -d &#39;`&#39; | tr &#39;[A-Z]&#39; &#39;[a-z]&#39; | sed &#39;s/_-_/_/g&#39;); done
</code></pre><p>An example of the <code>gfs</code> folder may look like:</p>
<pre><code>/home/testuser/Documents/db_1.01_05.12.2014/custom_data/gfs/hg19/tfbsEncode/*.bed
/home/testuser/Documents/db_1.01_05.12.2014/custom_data/gfs/hg19/H3K4me3/*.bed
/home/testuser/Documents/db_1.01_05.12.2014/custom_data/gfs/hg19/gwasCatalog/*.bed
/home/testuser/Documents/db_1.01_05.12.2014/custom_data/gfs/hg19/chromStates/*.bed
</code></pre><h2 id="random-sets-of-snps">Random sets of SNPs</h2>
<p>Random SNP sets are used to check for lack of enrichment. They can be generated from a background file using the following command:</p>
<pre><code>for i in {10..19}; do n=$((2**i)); zcat snp128.bed.gz | shuf | head -n $n &gt; rndsnp128_$n.bed; done
</code></pre><p>The logic here is to generate random SNP sets of different sizes. The sizes are determined by the power of 2 from {10..19} range, so the first set will contain 2^10=1024 random SNPs, the second - 2^11 etc. Those random SNP sets can be placed under the <code>[dir]/custom_data/fois/[organism]/</code> folder.</p>
<h2 id="rsid_conversion-folder">rsid_conversion folder</h2>
<p>This folder contains organism-specific .BED file (BED6) for conversion of the lists of rsIDs into genomic coordinates. For example, for <em>Homo Sapiens</em> this folder may look like:</p>
<pre><code>rsid_conversion/hg19/snp138.bed
</code></pre><p>The genomic coordinates and rsIDs from the <code>snp138.bed</code> file are used to cross-map user-provided lists of rsIDs with genomic coordinates.</p>
<p><strong>Note:</strong> This is an experimental feature prone to undesired results. For example, some SNPs may map to multiple places in the genome and their rsIDs will be cross-mapped with all these places, resulting in underestimated enrichments. Caveat emptor.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../dbcreator/dbcreatorBackground.html" class="navigation navigation-prev " aria-label="Previous page: Background"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../dbcreator/dbcreatorFAQ.html" class="navigation navigation-next " aria-label="Next page: Dbcreator FAQ"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
<script src="../gitbook/app.js"></script>

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
